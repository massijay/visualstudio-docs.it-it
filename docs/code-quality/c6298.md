---
title: C6298 | Documenti Microsoft
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.technology: vs-ide-code-analysis
ms.tgt_pltfrm: 
ms.topic: article
f1_keywords: C6298
helpviewer_keywords: C6298
ms.assetid: 986dc8e7-8596-4223-a66f-8616357d4399
caps.latest.revision: "13"
author: mikeblome
ms.author: mblome
manager: ghogen
ms.openlocfilehash: f190bb26c3d21991cc61dda0f7dcc98e05649a43
ms.sourcegitcommit: fb751e41929f031d1a9247bc7c8727312539ad35
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 11/15/2017
---
# <a name="c6298"></a>C6298
avviso C6298: utilizzo di una stringa di sola lettura \<puntatore > come argomento di stringa scrivibile: si tenterà di scrivere in statica memoria di sola lettura e causano arresti anomali del sistema  
  
 Questo avviso indica l'utilizzo di una stringa costante come argomento a una funzione che potrebbe modificare il contenuto di tale stringa. Poiché il compilatore alloca stringhe costanti in un statico memoria di sola lettura, qualsiasi tentativo di modifica provocare violazioni di accesso e arresti anomali del sistema.  
  
 Questo può essere evitato archiviare la stringa costante in una matrice locale e quindi utilizzando la matrice come argomento alla funzione.  
  
## <a name="example"></a>Esempio  
 Esempio di codice seguente genera questo avviso:  
  
```  
#include <windows.h>  
#include <stdio.h>  
  
void f()  
{  
    STARTUPINFO si;  
    PROCESS_INFORMATION pi;  
  
    ZeroMemory( &si, sizeof( si ) );  
    si.cb = sizeof( si );  
    ZeroMemory( &pi, sizeof( pi ) );  
    if( !CreateProcess(NULL,  
                      "\"c:\\Windows\\system32\\calc.exe\"",  
                      NULL,               
                      NULL,                
                      FALSE,              
                      0,                   
                      NULL,               
                      NULL,                
                      &si,                
                      &pi ) )   
    {  
        puts( "CreateProcess failed." );  
        return;  
    }  
  
    // Wait until child process exits.  
    WaitForSingleObject( pi.hProcess, INFINITE );  
  
    // Close process and thread handles.   
    CloseHandle( pi.hProcess );  
    CloseHandle( pi.hThread );  
}  
  
```  
  
 Per risolvere il problema, utilizzare il codice di esempio seguente:  
  
```  
#include <windows.h>  
#include <stdio.h>  
  
void f( )  
{  
    STARTUPINFO si;  
    PROCESS_INFORMATION pi;  
  
    char szCmdLine[] = "\"c:\\Windows\\system32\\calc.exe\"";  
    ZeroMemory( &si, sizeof( si ) );  
    si.cb = sizeof( si );  
    ZeroMemory( &pi, sizeof( pi ) );  
  
    if( !CreateProcess(NULL,  
                      szCmdLine,  
                      NULL,               
                      NULL,                
                      FALSE,              
                      0,                   
                      NULL,               
                      NULL,                
                      &si,                
                      &pi ) )   
    {  
        puts( "CreateProcess failed." );  
        return;  
    }  
  
    // Wait until child process exits.  
    WaitForSingleObject( pi.hProcess, INFINITE );  
  
    // Close process and thread handles.   
    CloseHandle( pi.hProcess );  
    CloseHandle( pi.hThread );  
}  
```